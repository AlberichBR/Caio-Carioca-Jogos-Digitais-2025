# BATALHA NAVAL - VERSÃƒO RETRÃ”
import os

# Cores no terminal (simula console antigo)
class Cores:
    AZUL = '\033[94m'    # Ãgua
    VERDE = '\033[92m'   # Navio
    VERMELHO = '\033[91m' # Acerto
    AMARELO = '\033[93m'  # TÃ­tulo
    CYAN = '\033[96m'    # Coordenadas
    RESET = '\033[0m'    # Reset

def limpar_tela():
    os.system('cls' if os.name == 'nt' else 'clear')

def mostrar_titulo():
    print(f"{Cores.AMARELO}")
    print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
    print("â•‘      BATALHA NAVAL RETRÃ”     â•‘")
    print("â•‘     ğŸ® MEGA DRIVE STYLE     â•‘")
    print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
    print(f"{Cores.RESET}")

def mostrar_tabuleiro(tabuleiro, revelar_navios=False):
    print(f"\n{Cores.CYAN}   1 2 3{Cores.RESET}")
    letras = ['A', 'B', 'C']
    
    for i, linha in enumerate(tabuleiro):
        print(f"{Cores.CYAN}{letras[i]}  {Cores.RESET}", end="")
        for celula in linha:
            if celula == '~':  # Ãgua
                print(f"{Cores.AZUL}~ {Cores.RESET}", end="")
            elif celula == 'N':  # Navio
                if revelar_navios:
                    print(f"{Cores.VERDE}â–ˆ {Cores.RESET}", end="")
                else:
                    print(f"{Cores.AZUL}~ {Cores.RESET}", end="")
            elif celula == 'X':  # Acerto
                print(f"{Cores.VERMELHO}ğŸ’¥{Cores.RESET}", end="")
            elif celula == 'O':  # Erro
                print(f"{Cores.AZUL}â€¢ {Cores.RESET}", end="")
        print()

def main():
    limpar_tela()
    mostrar_titulo()
    
    print(f"\n{Cores.VERDE}ğŸ¯ Objetivo: Encontre o navio secreto!")
    print("ğŸ’¡ Dica: Tente B2 para teste{Cores.RESET}")
    
    # Tabuleiro com navio em B2
    tabuleiro = [
        ['~', '~', '~'],
        ['~', 'N', '~'], 
        ['~', '~', '~']
    ]
    
    mostrar_tabuleiro(tabuleiro)
    
    # Loop do jogo
    while True:
        try:
            jogada = input(f"\n{Cores.CYAN}ğŸ® Sua jogada (A1, B2, C3): {Cores.RESET}").upper()
            
            if jogada == "SAIR":
                print(f"{Cores.AMARELO}ğŸ‘‹ AtÃ© a prÃ³xima!{Cores.RESET}")
                break
                
            if len(jogada) != 2 or jogada[0] not in "ABC" or jogada[1] not in "123":
                print(f"{Cores.VERMELHO}âŒ Jogada invÃ¡lida! Use A1, B2, C3{Cores.RESET}")
                continue
            
            # Converter jogada
            linha = ord(jogada[0]) - ord('A')
            coluna = int(jogada[1]) - 1
            
            # Verificar se jÃ¡ jogou aÃ­
            if tabuleiro[linha][coluna] in ['X', 'O']:
                print(f"{Cores.AMARELO}âš ï¸  VocÃª jÃ¡ jogou aÃ­!{Cores.RESET}")
                continue
            
            # Fazer jogada
            limpar_tela()
            mostrar_titulo()
            
            if tabuleiro[linha][coluna] == 'N':
                print(f"\n{Cores.VERMELHO}ğŸ¯ BOOOOM! DIRECT HIT!{Cores.RESET}")
                print(f"{Cores.VERDE}â­ MISSÃƒO CUMPRIDA!{Cores.RESET}")
                tabuleiro[linha][coluna] = 'X'
                mostrar_tabuleiro(tabuleiro, revelar_navios=True)
                break
            else:
                print(f"\n{Cores.AZUL}ğŸ’¦ SPLASH! Ãgua...{Cores.RESET}")
                tabuleiro[linha][coluna] = 'O'
                mostrar_tabuleiro(tabuleiro)
                print(f"{Cores.AMARELO}ğŸ’¡ Tente B2 para acertar!{Cores.RESET}")
                
        except Exception as e:
            print(f"{Cores.VERMELHO}âŒ Erro: {e}{Cores.RESET}")
    
    print(f"\n{Cores.CYAN}ğŸ‰ Obrigado por jogar!{Cores.RESET}")
    print(f"{Cores.AMARELO}ğŸ“º Sega Mega Drive vibes!{Cores.RESET}")

if __name__ == "__main__":
    main()
